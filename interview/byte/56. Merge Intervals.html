<script>
  /**
   * @param {number[][]} intervals
   * @return {number[][]}
   */
  var merge = function (intervals) {
    if (!intervals.length) return []
    const ans = []
    // sort
    intervals.sort((a, b) => a[0] - b[0])
    // 那么以后所有来的元素 起始处都是按顺序的
    // 每次进行可能的修改都是最后一个元素
    ans.push(intervals[0])
    const len = intervals.length
    for (let i = 1; i < len; i++) {
      const curr = intervals[i]
      const last = ans[ans.length - 1]
      const [currStart, currEnd] = curr
      const [lastStart, lastEnd] = last
      if (currStart > lastEnd) {
        ans.push(curr)
        continue
      }
      if (currEnd > lastEnd) {
        last[1] = currEnd
      }
    }
    return ans
  }

/**
 * @param {number[][]} intervals
 * @return {number[][]}
 */
var merge = function (intervals) {
  const len = intervals.length
  intervals.sort((a, b) => a[0] - b[0])
  const ans = [intervals[0]]
  for (let i = 1; i < len; i++) {
    const [currStart, currEnd] = intervals[i]
    const [lastStart, lastEnd] = ans[ans.length - 1]
    // 合并
    if (currStart <= lastEnd && currEnd > lastEnd) {
      ans[ans.length - 1][1] = currEnd
    }
    // 新增
    if (currStart > lastEnd) {
      ans.push(intervals[i])
    }
  }
  return ans
}
  console.log(
    merge([
      [1, 4],
      [2, 3],
    ])
  )
</script>
