<body>
  <script>
    var findUnsortedSubarray1 = function (nums) {
      let start = 0, end = nums.length - 1, flag = false
      let numsSorted = nums.slice().sort((a, b) => a - b)
      for (let i = 0; i < nums.length; i++) {
        if (nums[i] !== numsSorted[i]) {
          start = i
          flag = true
          break
        }
      }
      for (let i = nums.length - 1; i >= 0; i--) {
        if (nums[i] !== numsSorted[i]) {
          end = i
          break
        }
      }
      return flag ? end - start + 1 : 0
    }

    var findUnsortedSubarray = function (nums) {
      /**
      * 寻找左右边界
      * 右边界：最后一个右边所有的值都比我大 min
      * 左右边界：最后一个左边的所有值都比我小 max
      */

      let left = 0, right = nums.length - 1, flag = false
      for (let i = 0; i < nums.length - 1; i++) {
        let t = Math.min(...nums.slice(i))
        if (nums[i] !== t) {
          left = i
          flag = true
          break
        }
      }
      for (let i = nums.length - 1; i > 0; i--) {
        let t = Math.max(...nums.slice(0, i + 1))
        if (nums[i] !== t) {
          right = i
          break
        }
      }
      return flag ? right - left + 1 : 0
    };

    console.log(
      findUnsortedSubarray(
        [1, 2, 3, 4, 0]
      )
    )
  </script>
</body>