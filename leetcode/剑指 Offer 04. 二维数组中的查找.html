<body>
  <script>
    /**
     * @param {number[][]} matrix
     * @param {number} target
     * @return {boolean}
     */
    var findNumberIn2DArray = function (matrix, target) {
      const n = matrix.length
      if (n === 0) return false
      const m = matrix[0].length
      if (m === 0) return false
      // 逆时针 rotate 45 persent , binary search tree
      let i = 0, j = m - 1;
      while (i >= 0 && j >= 0 && i < n && j < m) {
        if (target > matrix[i][j]) {
          i++
        } else if (target < matrix[i][j]) {
          j--
        } else {
          return true
        }
      }
      return false
    };

    var falseSolution = function (matrix, target) {
      /**
       * col row 都是有序的 所以整体使用二分进行搜素 
       * 先定位到行 再定位列
       */
      let
        rowLen = matrix.length,
        colLen = matrix[0].length,
        top = 0, buttom = rowLen - 1,
        left = 0, right = colLen - 1
      while (top < buttom) {
        const midRow = top + Math.floor((buttom - top) / 2)
        if (matrix[midRow][0] < target) {
          top = midRow + 1
        } else if (matrix[midRow][colLen - 1] > target) {
          buttom = midRow - 1
        } else {
          top = midRow
        }
      }
      // 上面循环跳出的时候 top | buttom 就是所定位到的行
      while (left < right) {
        const midCol = left + Math.floor((right - left) / 2)
        if (matrix[top][midCol] < target) {
          left = midCol + 1
        } else if (matrix[top][midCol] > target) {
          right = midCol - 1
        } else {
          return true
        }
      }
      return false
    };

    console.log(
      findNumberIn2DArray(
        [[1, 4, 7, 11, 15], [2, 5, 8, 12, 19], [3, 6, 9, 16, 22], [10, 13, 14, 17, 24], [18, 21, 23, 26, 30]],
        5
      ),
      findNumberIn2DArray(
        [[]], 1
      )
    )
  </script>
</body>