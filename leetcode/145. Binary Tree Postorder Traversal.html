<!--
 * @Author: SedationH
 * @Date: 2020-07-12 04:00:45
 * @LastEditTime: 2020-07-13 16:25:37
 * @FilePath: /learn-algorithm/leetcode/145. Binary Tree Postorder Traversal.html
-->

<body>
  <script src="./kit/ListNode.js"></script>
  <script>
    var postorderTraversalRecursive = function (root) {
      const ans = []
      postorderTraversalHelper(root)
      return ans

      function postorderTraversalHelper(root) {
        if (root === null) return
        postorderTraversalHelper(root.left)
        postorderTraversalHelper(root.right)
        ans.push(root.val)
      }
    };

    /**
     * preorder: root left right
     * postorder: left right root
     * æˆ‘ä»¬æŠŠå…ˆåºæŸ¥æ‰¾ä½œä¸ºæ€è€ƒèµ·å§‹ç‚¹
     * æ›´æ”¹ä¼˜å…ˆæŸ¥æ‰¾å­æ ‘ä¸ºå³å­æ ‘ -> root right left
     * res.reverse() -> left right root
     * nbï¼ğŸ˜„
     * æŸ¥æ‰¾é¡ºåºå€’ç½® <=> ç»“æœå€’ç½® è¿™é‡Œå­˜ç–‘
     */
    var postorderTraversalIteration1 = function (root) {
      const ans = [], stack = []
      let ptr = root
      while (ptr !== null || stack.length !== 0) {
        while (ptr !== null) {
          stack.push(ptr)
          ans.push(ptr.val)
          ptr = ptr.right
        }
        const tem = stack.pop()
        ptr = tem.left
      }
      return ans.reverse()
    }

    var postorderTraversalIteration2 = function (root) {
      const stack = [[0, root]], ans = []
      while (stack.length !== 0) {
        const [state, node] = stack.pop()
        if (node === null) continue
        if (state === 0) {
          stack.push([1, node])
          stack.push([0, node.right])
          stack.push([0, node.left])
        } else {
          ans.push(node.val)
        }
      }
      return ans
    }

    let root = BinaryTree(
      [3, 1, 2]
    )
    console.log(
      postorderTraversalIteration2(root)
    )
  </script>
</body>