<body>

  <script>
    /**
     * @param {number[]} nums
     * @return {number}
     */
    // 常规n方
    var findDuplicate1 = function (nums) {
      const len = nums.length
      for (let i = 0; i < len - 1; i++) {
        for (let j = i + 1; j < len; j++) {
          if (nums[i] === nums[j]) return nums[i]
        }
      }
    };

    /**
     * 二分法，抽屉原理 9 drawer put 10 apple
     * n+1 个数字 数字选择为[1,n]的范围
     * assume that there is only one duplicate number
     * 区间范围 [1,n] => mid 判断nums中数值<=mid的数字的个数cnt
     * 如果cnt > mid 证明重复数字范围在[1,mid]之间，
     * 这样规模就得到缩小了
     * 相较于其他二分，这一题正向思考容易，其他的排除容易
     */
    var findDuplicate2 = function (nums) {
      const n = nums.length - 1
      let left = 1, right = n
      while (left < right) {
        const mid = Math.floor(left + (right - left) / 2)

        let cnt = 0
        for (const num of nums) {
          if (num <= mid) {
            cnt++
          }
        }

        if (cnt > mid) {
          right = mid
        } else {
          left = mid + 1
        }
      }
      return left
    }

    console.log(
      findDuplicate2(
        [3, 1, 3, 4, 2]
      )
    )
  </script>
</body>